/// Auto-generated by Deno Win32: Windows.Win32.Devices.FunctionDiscovery.Apis

import * as util from "../../util.ts";

// Enums
export type PropertyConstraint = number;
export type SystemVisibilityFlags = number;
export type QueryUpdateAction = number;
export type QueryCategoryType = number;

// Constants
export const FD_EVENTID_PRIVATE = 100;
export const FD_EVENTID = 1000;
export const FD_EVENTID_SEARCHCOMPLETE = 1000;
export const FD_EVENTID_ASYNCTHREADEXIT = 1001;
export const FD_EVENTID_SEARCHSTART = 1002;
export const FD_EVENTID_IPADDRESSCHANGE = 1003;
export const FD_EVENTID_QUERYREFRESH = 1004;
export const FD_Visibility_Default = 0;
export const FD_Visibility_Hidden = 1;
export const DEVICEDISPLAY_DISCOVERYMETHOD_BLUETOOTH = `Bluetooth`;
export const DEVICEDISPLAY_DISCOVERYMETHOD_BLUETOOTH_LE = `Bluetooth Low Energy`;
export const DEVICEDISPLAY_DISCOVERYMETHOD_NETBIOS = `NetBIOS`;
export const DEVICEDISPLAY_DISCOVERYMETHOD_AD_PRINTER = `Published Printer`;
export const DEVICEDISPLAY_DISCOVERYMETHOD_PNP = `PnP`;
export const DEVICEDISPLAY_DISCOVERYMETHOD_UPNP = `UPnP`;
export const DEVICEDISPLAY_DISCOVERYMETHOD_WSD = `WSD`;
export const DEVICEDISPLAY_DISCOVERYMETHOD_WUSB = `WUSB`;
export const DEVICEDISPLAY_DISCOVERYMETHOD_WFD = `WiFiDirect`;
export const DEVICEDISPLAY_DISCOVERYMETHOD_ASP_INFRA = `AspInfra`;
export const PNPX_DEVICECATEGORY_COMPUTER = `Computers`;
export const PNPX_DEVICECATEGORY_INPUTDEVICE = `Input`;
export const PNPX_DEVICECATEGORY_PRINTER = `Printers`;
export const PNPX_DEVICECATEGORY_SCANNER = `Scanners`;
export const PNPX_DEVICECATEGORY_FAX = `FAX`;
export const PNPX_DEVICECATEGORY_MFP = `MFP`;
export const PNPX_DEVICECATEGORY_CAMERA = `Cameras`;
export const PNPX_DEVICECATEGORY_STORAGE = `Storage`;
export const PNPX_DEVICECATEGORY_NETWORK_INFRASTRUCTURE = `NetworkInfrastructure`;
export const PNPX_DEVICECATEGORY_DISPLAYS = `Displays`;
export const PNPX_DEVICECATEGORY_MULTIMEDIA_DEVICE = `MediaDevices`;
export const PNPX_DEVICECATEGORY_GAMING_DEVICE = `Gaming`;
export const PNPX_DEVICECATEGORY_TELEPHONE = `Phones`;
export const PNPX_DEVICECATEGORY_HOME_AUTOMATION_SYSTEM = `HomeAutomation`;
export const PNPX_DEVICECATEGORY_HOME_SECURITY_SYSTEM = `HomeSecurity`;
export const PNPX_DEVICECATEGORY_OTHER = `Other`;
export const PNPX_INSTALLSTATE_NOTINSTALLED = 0;
export const PNPX_INSTALLSTATE_INSTALLED = 1;
export const PNPX_INSTALLSTATE_INSTALLING = 2;
export const PNPX_INSTALLSTATE_FAILED = 3;
export const FD_LONGHORN = 1;
export const FD_SUBKEY = `SOFTWARE\\Microsoft\\Function Discovery\\`;
export const FCTN_CATEGORY_PNP = `Provider\\Microsoft.Base.PnP`;
export const FCTN_CATEGORY_REGISTRY = `Provider\\Microsoft.Base.Registry`;
export const FCTN_CATEGORY_SSDP = `Provider\\Microsoft.Networking.SSDP`;
export const FCTN_CATEGORY_WSDISCOVERY = `Provider\\Microsoft.Networking.WSD`;
export const FCTN_CATEGORY_NETBIOS = `Provider\\Microsoft.Networking.Netbios`;
export const FCTN_CATEGORY_WCN = `Provider\\Microsoft.Networking.WCN`;
export const FCTN_CATEGORY_PUBLICATION = `Provider\\Microsoft.Base.Publication`;
export const FCTN_CATEGORY_PNPXASSOCIATION = `Provider\\Microsoft.PnPX.Association`;
export const FCTN_CATEGORY_BT = `Provider\\Microsoft.Devices.Bluetooth`;
export const FCTN_CATEGORY_WUSB = `Provider\\Microsoft.Devices.WirelessUSB`;
export const FCTN_CATEGORY_DEVICEDISPLAYOBJECTS = `Provider\\Microsoft.Base.DeviceDisplayObjects`;
export const FCTN_CATEGORY_DEVQUERYOBJECTS = `Provider\\Microsoft.Base.DevQueryObjects`;
export const FCTN_CATEGORY_NETWORKDEVICES = `Layered\\Microsoft.Networking.Devices`;
export const FCTN_CATEGORY_DEVICES = `Layered\\Microsoft.Base.Devices`;
export const FCTN_CATEGORY_DEVICEFUNCTIONENUMERATORS = `Layered\\Microsoft.Devices.FunctionEnumerators`;
export const FCTN_CATEGORY_DEVICEPAIRING = `Layered\\Microsoft.Base.DevicePairing`;
export const FCTN_SUBCAT_DEVICES_WSDPRINTERS = `WSDPrinters`;
export const FCTN_SUBCAT_NETWORKDEVICES_SSDP = `SSDP`;
export const FCTN_SUBCAT_NETWORKDEVICES_WSD = `WSD`;
export const FCTN_SUBCAT_REG_PUBLICATION = `Publication`;
export const FCTN_SUBCAT_REG_DIRECTED = `Directed`;
export const MAX_FDCONSTRAINTNAME_LENGTH = 100;
export const MAX_FDCONSTRAINTVALUE_LENGTH = 1000;
export const FD_QUERYCONSTRAINT_PROVIDERINSTANCEID = `ProviderInstanceID`;
export const FD_QUERYCONSTRAINT_SUBCATEGORY = `Subcategory`;
export const FD_QUERYCONSTRAINT_RECURSESUBCATEGORY = `RecurseSubcategory`;
export const FD_QUERYCONSTRAINT_VISIBILITY = `Visibility`;
export const FD_QUERYCONSTRAINT_COMCLSCONTEXT = `COMClsContext`;
export const FD_QUERYCONSTRAINT_ROUTINGSCOPE = `RoutingScope`;
export const FD_CONSTRAINTVALUE_TRUE = `TRUE`;
export const FD_CONSTRAINTVALUE_FALSE = `FALSE`;
export const FD_CONSTRAINTVALUE_RECURSESUBCATEGORY_TRUE = `TRUE`;
export const FD_CONSTRAINTVALUE_VISIBILITY_DEFAULT = 0;
export const FD_CONSTRAINTVALUE_VISIBILITY_ALL = 1;
export const FD_CONSTRAINTVALUE_COMCLSCONTEXT_INPROC_SERVER = 1;
export const FD_CONSTRAINTVALUE_COMCLSCONTEXT_LOCAL_SERVER = 4;
export const FD_CONSTRAINTVALUE_PAIRED = `Paired`;
export const FD_CONSTRAINTVALUE_UNPAIRED = `UnPaired`;
export const FD_CONSTRAINTVALUE_ALL = `All`;
export const FD_CONSTRAINTVALUE_ROUTINGSCOPE_ALL = `All`;
export const FD_CONSTRAINTVALUE_ROUTINGSCOPE_DIRECT = `Direct`;
export const FD_QUERYCONSTRAINT_PAIRING_STATE = `PairingState`;
export const FD_QUERYCONSTRAINT_INQUIRY_TIMEOUT = `InquiryModeTimeout`;
export const PROVIDERPNP_QUERYCONSTRAINT_INTERFACECLASS = `InterfaceClass`;
export const PROVIDERPNP_QUERYCONSTRAINT_NOTPRESENT = `NotPresent`;
export const PROVIDERPNP_QUERYCONSTRAINT_NOTIFICATIONSONLY = `NotifyOnly`;
export const PNP_CONSTRAINTVALUE_NOTPRESENT = `TRUE`;
export const PNP_CONSTRAINTVALUE_NOTIFICATIONSONLY = `TRUE`;
export const PROVIDERSSDP_QUERYCONSTRAINT_TYPE = `Type`;
export const PROVIDERSSDP_QUERYCONSTRAINT_CUSTOMXMLPROPERTY = `CustomXmlProperty`;
export const SSDP_CONSTRAINTVALUE_TYPE_ALL = `ssdp:all`;
export const SSDP_CONSTRAINTVALUE_TYPE_ROOT = `upnp:rootdevice`;
export const SSDP_CONSTRAINTVALUE_TYPE_DEVICE_PREFIX = `urn:schemas-upnp-org:device:`;
export const SSDP_CONSTRAINTVALUE_TYPE_SVC_PREFIX = `urn:schemas-upnp-org:service:`;
export const PROVIDERWSD_QUERYCONSTRAINT_DIRECTEDADDRESS = `RemoteAddress`;
export const PROVIDERWSD_QUERYCONSTRAINT_TYPE = `Type`;
export const PROVIDERWSD_QUERYCONSTRAINT_SCOPE = `Scope`;
export const PROVIDERWSD_QUERYCONSTRAINT_SECURITY_REQUIREMENTS = `SecurityRequirements`;
export const PROVIDERWSD_QUERYCONSTRAINT_SSL_CERT_FOR_CLIENT_AUTH = `SSLClientAuthCert`;
export const PROVIDERWSD_QUERYCONSTRAINT_SSL_CERTHASH_FOR_SERVER_AUTH = `SSLServerAuthCertHash`;
export const WSD_CONSTRAINTVALUE_REQUIRE_SECURECHANNEL = 1;
export const WSD_CONSTRAINTVALUE_REQUIRE_SECURECHANNEL_AND_COMPACTSIGNATURE = 2;
export const WSD_CONSTRAINTVALUE_NO_TRUST_VERIFICATION = 3;
export const PROVIDERWNET_QUERYCONSTRAINT_TYPE = `Type`;
export const PROVIDERWNET_QUERYCONSTRAINT_PROPERTIES = `Properties`;
export const PROVIDERWNET_QUERYCONSTRAINT_RESOURCETYPE = `ResourceType`;
export const WNET_CONSTRAINTVALUE_TYPE_ALL = `All`;
export const WNET_CONSTRAINTVALUE_TYPE_SERVER = `Server`;
export const WNET_CONSTRAINTVALUE_TYPE_DOMAIN = `Domain`;
export const WNET_CONSTRAINTVALUE_PROPERTIES_ALL = `All`;
export const WNET_CONSTRAINTVALUE_PROPERTIES_LIMITED = `Limited`;
export const WNET_CONSTRAINTVALUE_RESOURCETYPE_DISK = `Disk`;
export const WNET_CONSTRAINTVALUE_RESOURCETYPE_PRINTER = `Printer`;
export const WNET_CONSTRAINTVALUE_RESOURCETYPE_DISKORPRINTER = `DiskOrPrinter`;
export const ONLINE_PROVIDER_DEVICES_QUERYCONSTRAINT_OWNERNAME = `OwnerName`;
export const PROVIDERDDO_QUERYCONSTRAINT_DEVICEFUNCTIONDISPLAYOBJECTS = `DeviceFunctionDisplayObjects`;
export const PROVIDERDDO_QUERYCONSTRAINT_ONLYCONNECTEDDEVICES = `OnlyConnectedDevices`;
export const PROVIDERDDO_QUERYCONSTRAINT_DEVICEINTERFACES = `DeviceInterfaces`;
export const E_FDPAIRING_NOCONNECTION = 14987981778504908801n;
export const E_FDPAIRING_HWFAILURE = 14987982878016536578n;
export const E_FDPAIRING_AUTHFAILURE = 14987983977528164355n;
export const E_FDPAIRING_CONNECTTIMEOUT = 14987985077039792132n;
export const E_FDPAIRING_TOOMANYCONNECTIONS = 14987986176551419909n;
export const E_FDPAIRING_AUTHNOTALLOWED = 14987987276063047686n;
export const E_FDPAIRING_IPBUSDISABLED = 14987988375574675463n;
export const E_FDPAIRING_NOPROFILES = 2449962614928703496n;
export const QC_EQUALS = 0;
export const QC_NOTEQUAL = 1;
export const QC_LESSTHAN = 2;
export const QC_LESSTHANOREQUAL = 3;
export const QC_GREATERTHAN = 4;
export const QC_GREATERTHANOREQUAL = 5;
export const QC_STARTSWITH = 6;
export const QC_EXISTS = 7;
export const QC_DOESNOTEXIST = 8;
export const QC_CONTAINS = 9;
export const SVF_SYSTEM = 0;
export const SVF_USER = 1;
export const QUA_ADD = 0;
export const QUA_REMOVE = 1;
export const QUA_CHANGE = 2;
export const QCT_PROVIDER = 0;
export const QCT_LAYERED = 1;

// Structs

/**
 * Windows.Win32.UI.Shell.PropertiesSystem.PROPERTYKEY (size: 16)
 */
export interface PROPERTYKEY {
  /** System.Guid */
  fmtid: Uint8Array | Deno.PointerValue;
  /** u32 */
  pid: number;
}

export const sizeofPROPERTYKEY = 16;

export function allocPROPERTYKEY(data?: Partial<PROPERTYKEY>): Uint8Array {
  const buf = new Uint8Array(sizeofPROPERTYKEY);
  const view = new DataView(buf.buffer);
  // 0x00: pointer
  if (data?.fmtid !== undefined) view.setBigUint64(0, data.fmtid === null ? 0n : BigInt(Deno.UnsafePointer.value(util.toPointer(data.fmtid))), true);
  // 0x08: u32
  if (data?.pid !== undefined) view.setUint32(8, Number(data.pid), true);
  // 0x0c: pad4
  return buf;
}

export class PROPERTYKEYView {
  private readonly view: DataView;
  constructor(private readonly buf: Uint8Array) {
    this.view = new DataView(buf.buffer);
  }

  get buffer(): Uint8Array {
    return this.buf;
  }

  // 0x00: pointer
  get fmtid(): Uint8Array | Deno.PointerValue {
    const ptr = this.view.getBigUint64(0, true);
    return Deno.UnsafePointer.create(ptr);
  }

  // 0x08: u32
  get pid(): number {
    return this.view.getUint32(8, true);
  }

  // 0x0c: pad4

  // 0x00: pointer
  set fmtid(value: Uint8Array | Deno.PointerValue) {
    this.view.setBigUint64(0, BigInt(Deno.UnsafePointer.value(util.toPointer(value))), true);
  }

  // 0x08: u32
  set pid(value: number) {
    this.view.setUint32(8, value, true);
  }

  // 0x0c: pad4
}

// Native Libraries

// Symbols

